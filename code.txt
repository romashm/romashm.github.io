let Identification = document.getElementById('Identification');
let StatusBuro = document.getElementById('StatusBuro');
let FormOtchet = document.getElementById('FormOtchet');
let Static = document.getElementById('Static');

let Noticifictaion = document.getElementById('Noticifictaion');
let Currencyvalodation = document.getElementById('Currencyvalodation')
let sub = document.getElementById('sub');
let Gespat = document.getElementById('Gespat')

let Power = document.getElementById('Power')

// let TypeText = document.getElementById("Elem")
// TypeText.addEventListener('focus', () => {
//     var styleElem = document.head.appendChild(document.createElement("style"));
//     styleElem.innerHTML = ".box::before {background: linear-gradient(90deg, rgba(242,245,247,1) 0%, rgba(253,29,29,1) 50%, rgba(252,176,69,1) 100%);animation: animated 3s linear infinite;}";
// });

// let TypeText1 = document.getElementById("Elem-1")
// TypeText1.addEventListener('focus', () => {
//     var styleElem = document.head.appendChild(document.createElement("style"));
//     styleElem.innerHTML = ".box-1::before {background: linear-gradient(90deg, rgba(242,245,247,1) 0%, rgba(253,29,29,1) 50%, rgba(252,176,69,1) 100%);animation: animated 3s linear infinite;}";
// });

// let TypeText3 = document.getElementById("Elem-3")
// TypeText3.addEventListener('focus', () => {
//     var styleElem = document.head.appendChild(document.createElement("style"));
//     styleElem.innerHTML = ".box-3::before {background: linear-gradient(90deg, rgba(242,245,247,1) 0%, rgba(253,29,29,1) 50%, rgba(252,176,69,1) 100%);animation: animated 3s linear infinite;}";
// });


function overDirection() {
    var styleElem = document.head.appendChild(document.createElement("style"));
    styleElem.innerHTML = "#FormOtchet {display: none;} #StatusBuro {animation: Identification-reverse 1s ease; width: 40%;} #Validation {display: flex;}";
}

function stopMovingAnimation() {
    var styleElem = document.head.appendChild(document.createElement("style"));
    styleElem.innerHTML = ".Disition::before {display: none;}";
}

Identification.addEventListener('click', () => {
    var styleElem = document.head.appendChild(document.createElement("style"));
    styleElem.innerHTML = "#FormOtchet {display: none;} #StatusBuro {animation: Identification-center 1s ease; width: 30%;} #DataSetter {display: flex;}";  

    FormOtchet.remove("#FormOtchet")
})

sub.addEventListener('mouseover', () => {
    var styleElem = document.head.appendChild(document.createElement("style"));
    styleElem.innerHTML = ".Disition::before {background: #111;animation: animated 3s linear infinite; display: flex;} ";
});

const elts = {
    text1: document.getElementById("text1"),
    text2: document.getElementById("text2")
};

const texts = [
    "Global",
    "Finance",
    "Inc."
];

const morphTime = 2;
const cooldownTime = 1;

let textIndex = texts.length - 1;
let time = new Date();
let morph = 0;
let cooldown = cooldownTime;

elts.text1.textContent = texts[textIndex % texts.length];
elts.text2.textContent = texts[(textIndex + 1) % texts.length];

function doMorph() {
    morph -= cooldown;
    cooldown = 0;

    let fraction = morph / morphTime;

    if (fraction > 1) {
        cooldown = cooldownTime;
        fraction = 1;
    }

    setMorph(fraction);
}

function setMorph(fraction) {
    elts.text2.style.filter = `blur(${Math.min(8 / fraction - 8, 100)}px)`;
    elts.text2.style.opacity = `${Math.pow(fraction, 0.4) * 100}%`;

    fraction = 1 - fraction;
    elts.text1.style.filter = `blur(${Math.min(8 / fraction - 8, 100)}px)`;
    elts.text1.style.opacity = `${Math.pow(fraction, 0.4) * 100}%`;

    elts.text1.textContent = texts[textIndex % texts.length];
    elts.text2.textContent = texts[(textIndex + 1) % texts.length];
}

function doCooldown() {
    morph = 0;

    elts.text2.style.filter = "";
    elts.text2.style.opacity = "100%";

    elts.text1.style.filter = "";
    elts.text1.style.opacity = "0%";
}

function animate() {
    requestAnimationFrame(animate);

    let newTime = new Date();
    let shouldIncrementIndex = cooldown > 0;
    let dt = (newTime - time) / 1000;
    time = newTime;

    cooldown -= dt;

    if (cooldown <= 0) {
        if (shouldIncrementIndex) {
            textIndex++;
        }

        doMorph();
    } else {
        doCooldown();
    }
}

animate();

// Text
(function () {

    const link = document.querySelectorAll('nav > .hover-this');
    const cursor = document.querySelector('.cursor');

    const animateit = function (e) {
          const span = this.querySelector('span');
          const { offsetX: x, offsetY: y } = e,
          { offsetWidth: width, offsetHeight: height } = this,

          move = 25,
          xMove = x / width * (move * 2) - move,
          yMove = y / height * (move * 2) - move;

          span.style.transform = `translate(${xMove}px, ${yMove}px)`;

          if (e.type === 'mouseleave') span.style.transform = '';
    };

    const editCursor = e => {
          const { clientX: x, clientY: y } = e;
          cursor.style.left = x + 'px';
          cursor.style.top = y + 'px';
    };

    link.forEach(b => b.addEventListener('mousemove', animateit));
    link.forEach(b => b.addEventListener('mouseleave', animateit));
    window.addEventListener('mousemove', editCursor);

})();
const date = new Date();

setTimeout(() => {
    let first = document.getElementById('first');
    first.remove();
    Gespat.innerHTML = `<span class="Opacity" id="sec">Сегодня ${date.getDate()} число </span>`
    
}, 5000)

setTimeout(() => {
    let sec = document.getElementById('sec');
    let Weather = document.getElementById('Weather');

    sec.remove();
    Gespat.innerHTML = '<span class="Opacity">В Москве -1℃</span>'
    Weather.innerHTML = `<img src='../static/images/Snow.svg' class="Opacity" style="margin-left: 1.5em; width: 1.2em;">`
}, 10000)

document.getElementById('current').oninput = function() {
    let a = document.getElementById('current').value+'.'+document.getElementById('currencyVALUM').value;
    let b = document.getElementById('selectedValue2').value+'.'+document.getElementById('selectedValue1').value
    document.getElementById('answer').value =Math.round(parseFloat(a*b)* 100) / 100
}

document.getElementById('currencyVALUM').oninput = function() {
    let a = document.getElementById('current').value+'.'+document.getElementById('currencyVALUM').value;
    let b = document.getElementById('selectedValue2').value+'.'+document.getElementById('selectedValue1').value
    document.getElementById('answer').value =Math.round(parseFloat(a*b)* 100) / 100
}

document.getElementById('selectedValue2').oninput = function() {
    let a = document.getElementById('current').value+'.'+document.getElementById('currencyVALUM').value;
    let b = document.getElementById('selectedValue2').value+'.'+document.getElementById('selectedValue1').value
    document.getElementById('answer').value =Math.round(parseFloat(a*b)* 100) / 100
}

document.getElementById('selectedValue1').oninput = function() {
    let a = document.getElementById('current').value+'.'+document.getElementById('currencyVALUM').value;
    let b = document.getElementById('selectedValue2').value+'.'+document.getElementById('selectedValue1').value
    document.getElementById('answer').value =Math.round(parseFloat(a*b)* 100) / 100
}

let eye = document.getElementById('Eye');
let rub = document.getElementById('Ruble');
let Dollar = document.getElementById('Dollar');
let Euro = document.getElementById('Euro');
let Yan = document.getElementById('Yan');
let pound = document.getElementById('pound');

function rubClick() {
    eye.style.display = "none"
    rub.style.display = "flex";
    Dollar.style.display = "none";
    Euro.style.display = "none";
    pound.style.display = "none";
    Yan.style.display = "none";
}

function dollClick() {
    eye.style.display = "none"
    rub.style.display = "none";
    Dollar.style.display = "flex";
    Euro.style.display = "none";
    pound.style.display = "none";
    Yan.style.display = "none";
}

function eurClick() {
    eye.style.display = "none"
    rub.style.display = "none";
    Dollar.style.display = "none";
    Euro.style.display = "flex";
    pound.style.display = "none";
    Yan.style.display = "none";
}

function yanClick() {
    eye.style.display = "none"
    rub.style.display = "none";
    Dollar.style.display = "none";
    Euro.style.display = "none";
    pound.style.display = "none";
    Yan.style.display = "flex";
}

function pounClick() {
    eye.style.display = "none"
    rub.style.display = "none";
    Dollar.style.display = "none";
    Euro.style.display = "none";
    pound.style.display = "flex";
    Yan.style.display = "none";
}

function eyeClick() {
    eye.style.display = "flex"
    rub.style.display = "none";
    Dollar.style.display = "none";
    Euro.style.display = "none";
    pound.style.display = "none";
    Yan.style.display = "none";
}